webpackJsonp([6],{212:function(e,t,n){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return{Document:e.Document,User:e.User}}function l(e){return{documentActions:(0,D.bindActionCreators)(C,e),userActions:(0,D.bindActionCreators)(I,e),commonActions:(0,D.bindActionCreators)(g,e)}}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();t.mapDispatchToProps=l;var d=n(1),f=r(d),y=n(34),D=n(33),v=n(3),h=s(v),m=n(65),C=s(m),b=n(41),I=s(b),L=n(73),g=s(L),S=n(17),E=n(32),w=n(860),R=r(w),x=n(861),U=s(x),T=n(2),k=n(54),P=r(k),N=function(e){function t(e,n){o(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.triggerUserStage=function(){},s.assignRef=function(e,t){void 0!==s[e]&&(s[e]=t)},s.getSurveyData=function(){U.GetSurveyData(h.UserQuestionID.EXPLVL,h.UserQuestionID.CAREER,window.RDL.cultureCD,s.isGetByID).then(function(e){var t=e.industries;t.unshift(s.objIndDefault),s.setState({experienceLevel:(0,P.default)(s.state.experienceLevel,{$set:e.experienceLevel}),industry:(0,P.default)(s.state.industry,{$set:t})}),s.GetPersonResponses()})},s.getSubIndustry=function(e){var t=s.isGetByID?s.state.industry.filter(function(t){return t.responseID==e}):s.state.industry.filter(function(t){return t.responseCD==e});t.length>0?U.GetSubIndustries(h.UserQuestionCD.CARSUB,t[0].responseCD,window.RDL.cultureCD,t[0].responseID,s.isGetByID).then(function(e){var t=e;t.unshift(s.objSubIndDefault),s.setState({subIndustry:(0,P.default)(s.state.subIndustry,{$set:t})},function(){document.getElementsByClassName("form-group")[1].classList.add("d-opac"),U.GetPersonResponses(s.props.User.partyID,s.props.User.UserUID,window.RDL.cultureCD,s.isGetByID).then(function(e){if(e&&e.length>0){var t=s.isGetByID?e.filter(function(e){return e.questionID==h.UserQuestionID.CARSUB})[0]:e.filter(function(e){return e.questionCD==h.UserQuestionCD.CARSUB})[0];if(s.state.subIndustry&&t){var n=s.state.subIndustry.filter(function(e){return e.responseCD==t.responseCD})[0];n&&s.setState({selectedSubIndustry:(0,P.default)(s.state.selectedSubIndustry,{$set:n})})}}})})}):s.setState({subIndustry:(0,P.default)(s.state.subIndustry,{$set:""})})},s.careerActiveState=function(e){if(e)if(s.state.selectedExpLevel.responseID||s.state.selectedExpLevel.responseCD)s.setState({selectedExpLevel:c({},h.surveyType,{questionID:h.UserQuestionID.EXPLVL})});else{var t=e.target?e.target.innerText.trim():e.innerText;s.setState({selectedExpLevel:t?s.state.experienceLevel.filter(function(e){return e.displayText==t})[0]:c({},h.surveyType,{questionID:h.UserQuestionID.EXPLVL})})}},s.saveSurveyResponses=function(){var e=[],t=[];if(Object.keys(s.state).map(function(n){if(-1!=["selectedExpLevel","selectedIndustry","selectedSubIndustry"].indexOf(n))if(0!=s.state[n].responseID||s.state[n].responseCD&&s.state[n].responseCD!=window.RDL.Localization.btnSel){var r=void 0;r=s.isGetByID?{ResponseID:s.state[n].responseID,ResponseText:s.state[n].displayText,ResponseCD:s.state[n].responseCD}:{PartyID:s.props.User.partyID,ResponseCD:s.state[n].responseCD,CultureCD:window.RDL.cultureCD,QuestionCD:s.state[n].questionCD},e.push(r),t.push({responseID:s.state[n].responseID,responseCD:s.state[n].responseCD,questionID:s.state[n].questionID,questionCD:s.state[n].questionCD})}else 0===s.state[n].responseID&&t.push({responseID:0,responseCD:"",questionID:s.state[n].questionID,questionCD:s.state[n].questionCD})}),t.length>0){var n=T.DocumentHelper.addUpdateDocResponsesForQID(s.state.doc,t,s.isGetByID),r=s.state.selectedSubIndustry.displayText,o="jobTitle";0==s.state.selectedSubIndustry.responseID&&(r=s.state.selectedIndustry.displayText,o="industry"),U.SaveSurveyResponse([h.UserQuestionID.EXPLVL,h.UserQuestionID.CAREER,h.UserQuestionID.CARSUB],null,s.props.User.UserUID,n.id,e,window.RDL.cultureCD,s.isGetByID).then(function(e){var t=s.state.selectedIndustry.responseCD;0==s.isGetByID&&e&&(o="industry",t=e.split(";")[0],r=e.split(";")[1]),n=T.DocumentHelper.setTTCPreferencesInDocument(n,r,o,t),s.props.documentActions.UpdateDocument(s.props.User.UserUID,n),s.props.documentActions.SetJobTitlePreference(n),s.props.history.push((0,S.GetNextBackUrl)("survey").nextPageUrl),RDL.trackExpLevel&&s.trackExperienceLevel()})}else s.props.history.push((0,S.GetNextBackUrl)("survey").nextPageUrl)},s.trackExperienceLevel=function(){var e="";if(s.state.selectedExpLevel){switch(s.state.selectedExpLevel.responseCD){case"STUDEN":e="Student";break;case"ENTLVL":e="Entry Level";break;case"EXPERN":e="Experienced";break;case"MANAGR":e="Manager";break;case"EXECTV":e="Executive"}var t={"Experience Level":e};if(""!=e){window.RDL.TrackEvents("identify",t,s.props.User.UserUID,T.CommonHelper.isLoggedInUser(window.RDL.UserClaims));var n=JSON.parse(localStorage.getItem("mixPanelIdentifyPreLogin"))||{};n["Experience Level"]=e,localStorage.setItem("mixPanelIdentifyPreLogin",JSON.stringify(n))}}},s.onBackClick=function(){window.RDL.skipSelectCV?s.props.history.push((0,S.GetNextBackUrl)("selectResume").backPageUrl):s.props.history.push((0,S.GetNextBackUrl)("survey").backPageUrl)},s.closeModal=function(){s.setState({showInterceptModal:!1,popupName:""})},s.onChange=function(e){if(e){var t=s.isGetByID?"questionID":"questionCD",n=s.isGetByID?"responseID":"responseCD",r=e[t],o=e[n];switch(r){case h.UserQuestionID.CAREER:case h.UserQuestionCD.CAREER:s.setState({selectedIndustry:(0,P.default)(s.state.selectedIndustry,{$set:e}),selectedSubIndustry:(0,P.default)(s.state.selectedSubIndustry,{$set:s.objSubIndDefault})}),0!=o&&s.getSubIndustry(o);break;case h.UserQuestionID.CARSUB:case h.UserQuestionCD.CARSUB:s.setState({selectedSubIndustry:(0,P.default)(s.state.selectedSubIndustry,{$set:e})})}}},s.objIndDefault=c({},h.surveyType,{displayText:window.RDL.Localization.btnSel,questionID:h.UserQuestionID.CAREER,questionCD:h.UserQuestionCD.CAREER,label:RDL.Localization.btnSel}),s.objSubIndDefault=c({},h.surveyType,{displayText:window.RDL.Localization.btnSel,questionID:h.UserQuestionID.CARSUB,questionCD:h.UserQuestionCD.CARSUB,label:RDL.Localization.btnSel}),s.state={experienceLevel:[c({},h.surveyType)],industry:[c({},h.surveyType)],subIndustry:[c({},h.surveyType)],selectedExpLevel:c({},h.surveyType,{questionID:h.UserQuestionID.EXPLVL}),selectedIndustry:s.objIndDefault,selectedSubIndustry:s.objSubIndDefault,doc:s.props.Document,showInterceptModal:!0},s.isGetByID="LUK"===window.RDL.PortalSettings.ConfigurePortalCd.toUpperCase(),s.isNewTTCBaselined=RDL.isNewTTCBaselined,s}return a(t,e),p(t,[{key:"componentDidMount",value:function(){this.getSurveyData(),RDL.closePageLoader()}},{key:"componentWillMount",value:function(){this.isNewTTCBaselined?this.props.history.replace((0,S.GetNextBackUrl)("survey").nextPageUrl):this.triggerUserStage(),"undefined"!=typeof localStorage&&(localStorage.getItem("interceptModalFR")?this.setState({showInterceptModal:!1}):localStorage.setItem("interceptModalFR",!0))}},{key:"GetPersonResponses",value:function(){var e=this,t=void 0,n=void 0,s=void 0,r=void 0;U.GetPersonResponses(this.props.User.partyID,this.props.User.UserUID,window.RDL.cultureCD,this.isGetByID).then(function(o){o&&o.length>0&&(e.isGetByID?(t=o.filter(function(e){return e.questionID==h.UserQuestionID.EXPLVL})[0],n=o.filter(function(e){return e.questionID==h.UserQuestionID.CAREER})[0]):(t=o.filter(function(e){return e.questionCD==h.UserQuestionCD.EXPLVL})[0],n=o.filter(function(e){return e.questionCD==h.UserQuestionCD.CAREER})[0])),e.state.experienceLevel&&t&&(s=e.state.experienceLevel.filter(function(e){return e.responseCD==t.responseCD})[0],e.setState({selectedExpLevel:s?(0,P.default)(e.state.selectedExpLevel,{$set:s}):{}})),e.state.industry&&n&&(r=e.state.industry.filter(function(e){return e.responseCD==n.responseCD})[0],e.setState({selectedIndustry:r?(0,P.default)(e.state.selectedIndustry,{$set:r}):{}}),e.getSubIndustry(e.isGetByID?r.responseID:r.responseCD))})}},{key:"render",value:function(){return f.default.createElement(R.default,{assignRef:this.assignRef,closeModal:this.closeModal,careerActiveState:this.careerActiveState,onBackClick:this.onBackClick,state:this.state,onChange:this.onChange,saveSurveyResponses:this.saveSurveyResponses})}}]),t}(d.Component);t.default=(0,E.withRouter)((0,y.connect)(u,l)(N))},662:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),u=n(1),l=s(u),c=n(9),p=s(c),d=n(676),f=s(d),y=function(e){function t(e,n){r(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.dropDownValues=function(){if(s.props.optionLabel)return s.props.optionLabel;for(var e=[],t=0;t<s.props.options.length;t++){var n={name:s.props.name,value:s.props.options[t],label:s.props.options[t]};e.push(n)}return e},s.onFocus=function(){s.onBlur()},s.onBlur=function(){RDL.isTablet&&$(".Select-input input").blur()},s.onClick=function(e){s.props.onClick&&s.props.onClick(s.props.name)},s.onChange=function(e){e&&(s.setState({value:e.value}),s.onMouseLeave(),s.props.onChange(e),s.setFontFamily())},s.onMouseEnter=function(e){var t=e.target.innerText,n=document.querySelector("#document");n&&(n.style.fontFamily=t)},s.onMouseLeave=function(e){var t=document.querySelector("#document");t&&(t.style.fontFamily="")},s.onOpen=function(e){if("fonts"==s.props.type){document.querySelectorAll(".Select-menu-outer .Select-option").forEach(function(e){e.addEventListener("mouseenter",s.onMouseEnter),e.addEventListener("mouseleave",s.onMouseLeave)})}var t=document.getElementsByClassName("is-focused")[1];t&&t.classList.remove("is-focused")},s.state={value:s.props.defaultValue},s}return i(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){e.defaultValue!=this.state.value&&this.setState({value:e.defaultValue})}},{key:"componentDidMount",value:function(){this.setFontFamily(this.state.value)}},{key:"componentDidUpdate",value:function(){this.setFontFamily(this.state.value)}},{key:"setFontFamily",value:function(e){if("fonts"==this.props.type){var t=document.querySelector("."+this.props.customClass);if(t){var n=t.querySelector(".Select-value-label");n&&(n.style.fontFamily=e)}}}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"form-group "+this.props.customClass,onClick:this.onClick},l.default.createElement("label",{className:"control-label"},this.props.labelName),l.default.createElement(f.default,{classNamePrefix:"custom",className:1==this.props.hidden?"d-none":"select-outer-container",name:this.props.name,options:this.dropDownValues(),isDisabled:this.props.isDisabled,onChange:this.onChange,valueKey:this.props.valueKey?this.props.valueKey:void 0,labelKey:this.props.labelKey?this.props.labelKey:void 0,value:this.state.value&&this.dropDownValues().filter(function(t){return t.value===e.state.value}).length>0?this.dropDownValues().filter(function(t){return t.value===e.state.value})[0]:null,isSearchable:!1,isClearable:!1,onMenuOpen:this.onOpen,placeholder:this.props.placeHolder?this.props.placeHolder:window.RDL.Localization.btnSel,onFocus:this.onFocus,onBlur:this.onBlur}),l.default.createElement("span",{className:"invalid-feedback"},this.props.errorMessage))}}]),t}(u.Component);t.default=y,y.propTypes={labelName:p.default.string,customClass:p.default.string,optionLabel:p.default.array,options:p.default.array,onChange:p.default.func.isRequired,name:p.default.string.isRequired,errorMessage:p.default.string,defaultValue:p.default.string,isDisabled:p.default.bool,placeHolder:p.default.string,isSearchable:p.default.bool,hidden:p.default.bool}},676:function(e,t,n){"use strict";function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.makeCreatableSelect=t.defaultProps=void 0;var o=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(o);n(141),n(93),n(16),n(9);var a=n(94);n(139);var u=n(205);n(74),n(140);var l=n(206),c=function(e,t){void 0===e&&(e="");var n=String(e).toLowerCase(),s=String(t.value).toLowerCase(),r=String(t.label).toLowerCase();return s===n||r===n},p={formatCreateLabel:function(e){return'Create "'+e+'"'},isValidNewOption:function(e,t,n){return!(!e||t.some(function(t){return c(e,t)})||n.some(function(t){return c(e,t)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},d=r({allowCreateWhileLoading:!1,createOptionPosition:"last"},p),f=function(e){var t,n;return n=t=function(t){function n(e){var n;n=t.call(this,e)||this,n.select=void 0,n.onChange=function(e,t){var s=n.props,r=s.getNewOptionData,o=s.inputValue,i=s.isMulti,u=s.onChange,l=s.onCreateOption,c=s.value,p=s.name;if("select-option"!==t.action)return u(e,t);var d=n.state.newOption,f=Array.isArray(e)?e:[e];if(f[f.length-1]!==d)u(e,t);else if(l)l(o);else{var y=r(o,o),D={action:"create-option",name:p};i?u([].concat((0,a.e)(c),[y]),D):u(y,D)}};var s=e.options||[];return n.state={newOption:void 0,options:s},n}s(n,t);var o=n.prototype;return o.UNSAFE_componentWillReceiveProps=function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,s=e.formatCreateLabel,r=e.getNewOptionData,o=e.inputValue,i=e.isLoading,u=e.isValidNewOption,l=e.value,c=e.options||[],p=this.state.newOption;p=u(o,(0,a.e)(l),c)?r(o,s(o)):void 0,this.setState({newOption:p,options:!t&&i||!p?c:"first"===n?[p].concat(c):[].concat(c,[p])})},o.focus=function(){this.select.focus()},o.blur=function(){this.select.blur()},o.render=function(){var t=this,n=this.state.options;return i.default.createElement(e,r({},this.props,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))},n}(o.Component),t.defaultProps=d,n},y=f(u.S),D=(0,l.m)(y);t.default=D,t.defaultProps=d,t.makeCreatableSelect=f},860:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=["student","entry-lvl","experienced","manager","executive"];return i.default.createElement("div",{className:"page-main sticky"},i.default.createElement(u.default,{hideSaveChangeCta:!0}),i.default.createElement("div",{className:"container"},i.default.createElement("div",{className:"jumbotron"},i.default.createElement(c.default,{updateVisitedIndex:e.updateVisitedIndex,pageCode:"survey",isProgressBar:!0,hidePreviewTipSection:!0,section:"survey",hideSaveChangeCta:!0}),i.default.createElement("section",{className:"jobstatus-container"},i.default.createElement("div",{className:"container p-0"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-12 p-0"},i.default.createElement("div",{className:"career-information"},i.default.createElement("ul",{className:"list-group list-preference js-preference "+((e.state.selectedExpLevel.responseID||e.state.selectedExpLevel.responseCD)&&"selected-item")},e.state.experienceLevel.map(function(n,s){return i.default.createElement("li",{key:s,className:"list-group-item "+((0!=e.state.selectedExpLevel.responseID&&e.state.selectedExpLevel.responseID===n.responseID||e.state.selectedExpLevel.responseCD&&e.state.selectedExpLevel.responseCD===n.responseCD)&&"selected")},i.default.createElement("div",{id:n.label,className:"item-wrap",onClick:e.careerActiveState},i.default.createElement("div",{className:"item-center"},i.default.createElement("span",{className:"spirit-ciupp icon-"+t[s]}),i.default.createElement("p",{className:"text-prefer"},n.displayText))))})))),i.default.createElement("div",{className:"col-12"},i.default.createElement("div",{className:"dropdown-wrapper"},i.default.createElement(d.default,{labelName:window.RDL.Localization.surveyCarrerfieldLabel,customClass:"select-degree",defaultValue:e.state.selectedIndustry.displayText,valueKey:"displayText",labelKey:"displayText",optionLabel:e.state.industry,name:window.RDL.Localization.surveyCarrerfieldLabel,errorMessage:"",onChange:e.onChange,placeHolder:RDL.Localization.btnSel}),e.state.selectedIndustry.displayText&&e.state.selectedIndustry.displayText!=window.RDL.Localization.btnSel?i.default.createElement(d.default,{labelName:window.RDL.Localization.surveySubCarrerfieldLabel,customClass:"select-degree",defaultValue:e.state.selectedSubIndustry.displayText,optionLabel:e.state.subIndustry,valueKey:"displayText",labelKey:"displayText",name:window.RDL.Localization.surveySubCarrerfieldLabel,errorMessage:"",onChange:e.onChange,placeHolder:RDL.Localization.btnSel}):"")),i.default.createElement("div",{className:"col-12 mt-5"},i.default.createElement("div",{className:"page-action d-flex mt-3"},i.default.createElement("button",{className:"btn btn-secondary",type:"button",onClick:e.onBackClick},RDL.Localization.btnBack),i.default.createElement("button",{className:"btn btn-primary btn-lg",type:"button",onClick:e.saveSurveyResponses},RDL.Localization.btnContinue)))))))),i.default.createElement(D.default,null),RDL.enableInterceptModal&&i.default.createElement(h.default,{isOpen:e.state.showInterceptModal,title:window.RDL.Localization.interceptModalTitle,btnPrimaryLabel:"",btnSecondaryLabel:"",onPrimaryClick:"",onSecondaryClick:"",closeModal:e.closeModal,isHeaderIcon:!0,shouldCloseOnOverlayClick:e.closeModal,cssClass:{btnPrimary:"btn-primary mr-0",headerIconClassName:"far fa-exclamation-circle fa-lg",btnSecondary:"btn-secondary",modalDialog:"modal-md"}},i.default.createElement("div",{className:"modal-body"},i.default.createElement("p",{className:"p mb-0",dangerouslySetInnerHTML:{__html:window.RDL.Localization.interceptModalText+'<br/> <a href="'+window.RDL.Paths.interceptLink+'">'+window.RDL.Localization.interceptModalLinkText+"</a>"}}))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1),i=s(o),a=n(71),u=s(a),l=n(70),c=s(l),p=n(662),d=s(p),f=n(3),y=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(f),n(72)),D=s(y),v=n(24),h=s(v);n(136)},861:function(e,t,n){"use strict";function s(e){return fetch(m+NaN+e+"/responses",{credentials:"include"}).then(function(e){if(e.ok)return e.json()}).then(function(e){var t=new h.Survey;return t.QuestionID=e.id,t.SurveyID=e.surveyID,e.responses.forEach(function(e){t.SurveyResponses.push(new h.SurveyResponse({displayText:e.displayText,responseCD:e.responseCD,responseID:e.responseID,sortOrder:e.sortOrder}))}),t}).catch(function(e){console.log(e)})}function r(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],a=[];return(s?i(e,t,n):o(n)).then(function(n){return n.experienceLevel&&n.experienceLevel.length>0&&(n.experienceLevel=n.experienceLevel.slice(0,5),n.experienceLevel.forEach(function(t,n){r.push({displayText:t.definition?t.definition:t.displayText,responseID:t.responseID?t.responseID:0,responseCD:t.responseCD?t.responseCD:t.id,questionCD:t.questionCD?t.questionCD:null,questionID:s?e:0,surveyResponseId:t.responseID?t.responseID:0})})),n.industries&&n.industries.length>0&&n.industries.forEach(function(e,n){a.push({displayText:e.definition?e.definition:e.displayText,responseID:e.responseID?e.responseID:0,responseCD:e.responseCD?e.responseCD:e.id,questionCD:e.questionCD?e.questionCD:null,questionID:s?t:0,surveyResponseId:e.responseID?e.responseID:0,label:e.definition?e.definition:e.displayText,value:e.definition?e.definition:e.displayText})}),{experienceLevel:r,industries:a}})}function o(e){return fetch(m+"survey_options?cultureCD="+e,{credentials:"include"}).then(function(e){if(e.ok)return e.json()}).then(function(e){return e})}function i(e,t,n){return fetch(m+"survey/surveyoptions?careerLevelQuestionId="+e+"&industryQuestionId="+t+"&culture="+n,{credentials:"include"}).then(function(e){if(e.ok)return e.json()}).then(function(n){var s=n.careerLevels?n.careerLevels.responses.slice(0,5):[],r=n.industries?n.industries.responses:[];return s&&s.length>0&&s.forEach(function(t){t.questionID=e}),r&&r.length>0&&r.forEach(function(e){e.questionID=t}),{experienceLevel:s,industries:r}})}function a(e,t,n,s){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[];return(r?u(s,n):l(e,t,n)).then(function(e){return e&&e.length>0&&e.forEach(function(e){o.push({displayText:e.definition?e.definition:e.displayText,responseID:e.responseID?e.responseID:0,responseCD:e.responseCD?e.responseCD:e.id,questionCD:e.questionCD?e.questionCD:null,questionID:r?166:0,surveyResponseId:e.responseID?e.responseID:0,label:e.definition?e.definition:e.displayText,value:e.definition?e.definition:e.displayText})}),o})}function u(e,t){return fetch(m+"survey/subindustry?reponse_id="+e+"&culture="+t,{credentials:"include"}).then(function(e){if(e.ok)return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})}function l(e,t,n){return fetch(m+"subindustries?questionCD="+e+"&industryCD="+t+"&cultureCD="+n,{credentials:"include"}).then(function(e){if(e.ok)return e.json()}).then(function(e){return e}).catch(function(e){console.log(e)})}function c(e,t,n,s,r,o){var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return(i?f(e,t,n,s,r):p(r,s,n,o)).then(function(e){return 0==i?e:e.ok?e.json():void 0}).then(function(e){return e})}function p(e,t,n,s){return fetch(m+"save_or_update_user_response",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({responseList:e,docID:t,userUID:n,cultureCD:s})}).then(function(e){if(e.ok)return e.json()}).then(function(e){return e})}function d(e){return fetch(m+"survey",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(e.ok)return e.json()}).then(function(e){return e})}function f(e,t,n,s,r){var o=[];return e.forEach(function(e,i){r[i]&&o.push({QuestionID:e,QuestionCD:t,UserUID:n,DocumentID:s,SurveyResponses:[r[i]]})}),d(o)}function y(e,t,n,s){return(s?v(t,n):D(e)).then(function(e){return e||[]})}function D(e){return fetch(m+"person_responses?partyid="+e,{credentials:"include"}).then(function(e){if(e.ok)return e.json()}).then(function(e){return e}).catch(function(e){console.log(e)})}function v(e,t){return fetch(m+"user_responses?userUID="+e+"&cultureCd="+t,{credentials:"include"}).then(function(e){if(e.ok)return e.json()}).then(function(e){var t=[];return e&&e.length>0&&e.forEach(function(e,n){t.push({responseCD:e.responses?e.responses[0].responseCD:"",questionCD:null,questionID:e.question.id,responseID:e.responses?e.responses[0].responseID:0})}),t}).catch(function(e){console.log(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.GetSurveyResponse=s,t.GetSurveyData=r,t.GetSubIndustries=a,t.SaveSurveyResponse=c,t.GetPersonResponses=y;var h=n(55),m=window.RDL.Paths.BaseApiUrl}});